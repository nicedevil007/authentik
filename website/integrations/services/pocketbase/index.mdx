---
title: Integrate with PocketBase
sidebar_label: PocketBase
---

# Integrate With PocketBase

<span class="badge badge--secondary">Support level: Community</span>

## What is PocketBase

> PocketBase is a lightweight backend solution that provides a built-in database, authentication, and file storage.
> It allows developers to quickly set up and manage backend services without complex configurations.
> With its simple API and easy-to-use dashboard, it's perfect for small projects, prototypes, or even full-scale applications.
>
> -- https://pocketbase.io/
>
> This guide explains how to configure PocketBase to use authentik as the OAuth provider for logging in to the Web GUI.

:::note
If you are using an application that relies on PocketBase as its backend, you can replace the placeholders used here with the application's name.
:::

## Preparation

The following placeholders are used in this guide:

- `pocketbase.company` is the FQDN of the PocketBase installation.
- `authentik.company` is the FQDN of the authentik installation.

:::note
This documentation lists only the settings that you need to change from their default values. Be aware that any changes other than those explicitly mentioned in this guide could cause issues accessing your application.
:::

## authentik configuration

Start the wizard for adding a new application.

**1. Application:**

- Name: `PocketBase`
- Slug: `pocketbase`

**2. Choose a Provider**

Select `OAuth2/OpenID Provider`

**3. Configure Provider**

Select implicit or explicit authorization flow as desired.

Take note of the Client ID and Client Secret, you'll need to give them to PocketBase later.

- Redirect URIs/Origins (RegEx): `https://_pocketbase.company_/api/oauth2-redirect`
- Signing Key: Select any available signing keys.

Leave the rest as default values.

## PocketBase configuration

1. Sign in to PocketBase and access the superusers dashboard by navigating to <kbd>https://<em>pocketbase.company<em>/_/#/settings</kbd>.

2. Toggle off **Hide collection create and edit controls**," then click the **Save changes** button.

3. Open the **users** collection by clicking the **Collections** icon on the sidebar or head to <kbd>https://<em>pocketbase.company</em>/_/#/collections?collection=pb_users_auth</kbd>.

4. Click the gear icon next to the collection's name, then select the **Options** tab in the popup on the right.

5. Enable the **OAuth2** authentication method by clicking the **OAuth2** tab and toggling **Enable**.

6. Click **+ Add provider** and select **OpenID Connect**.

7. Enter the following details from the authentik provider:
    - Set **Client ID** to _client-id_
    - Set **Client secret** to _client-secret_
    - Set **Display name** to **authentik**
    - Set **Auth URL** to https://_authentik.company_/application/o/authorize/
    - Set **Token URL** to https://_authentik.company_/application/o/token/
    - Set **User info URL** to https://_authentik.company_/application/o/userinfo/

## Test the login

- Open your web browser and go to: https://_pocketbase.company_/#/login.
- Click **authentik** to log in.
- You should be redirected to authentik (following the login flow you configured). After logging in, authentik will redirect you back to https://_pocketbase.company_.
- If you successfully return to the PocketBase WebGUI, the login is working correctly.
